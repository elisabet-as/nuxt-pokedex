import * as tslib_1 from "tslib";
import NoKey from './NoKey';
var ProcessStrategy = /** @class */ (function () {
    function ProcessStrategy() {
    }
    /**
     * Create the process strategy.
     */
    ProcessStrategy.create = function (model) {
        var _this = this;
        return function (value, _parentValue, _key) {
            var id = _this.getId(model, value);
            return tslib_1.__assign({}, value, { $id: id });
        };
    };
    /**
     * Get the ID value for the given record.
     */
    ProcessStrategy.getId = function (model, value) {
        var id = model.id(value);
        return id === undefined || id === null || id === '' ? NoKey.increment() : id;
    };
    return ProcessStrategy;
}());
export default ProcessStrategy;
//# sourceMappingURL=ProcessStrategy.js.map